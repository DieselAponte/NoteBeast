游댳 Consideraciones:
No se crea tabla de usuario, ya que se trata de una app local de un solo usuario.

Se usan claves for치neas donde es relevante, por ejemplo, para vincular ProgressEntry y Note con Project.

Las listas (objectives, resourcePaths) se modelan en tablas separadas, ya que SQLite no tiene arrays ni listas.

Enums (TaskStatus, Priority) se manejan como TEXT con validaci칩n de valores v치lidos.

游늷 Ventajas de no tener una tabla de usuario
Ya que la app es local y para un solo usuario, no necesitas control de acceso, autenticaci칩n ni multitenencia. Esto simplifica el dise침o y evita sobreingenier칤a.


UserConfig se asume con una 칰nica fila, sin id.

-- Tabla de Proyectos
CREATE TABLE Project (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    description TEXT NOT NULL
);

-- Tabla de Objetivos de Proyecto
CREATE TABLE ProjectObjective (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    project_id INTEGER NOT NULL,
    objective TEXT NOT NULL,
    FOREIGN KEY (project_id) REFERENCES Project(id) ON DELETE CASCADE
);

-- Tabla de Rutas de Recursos
CREATE TABLE ProjectResourcePath (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    project_id INTEGER NOT NULL,
    path TEXT NOT NULL,
    FOREIGN KEY (project_id) REFERENCES Project(id) ON DELETE CASCADE
);

-- Registro de Progresos de Proyecto
CREATE TABLE ProgressEntry (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    project_id INTEGER NOT NULL,
    timestamp TEXT NOT NULL, -- ISO 8601 datetime
    currentObjective TEXT NOT NULL,
    eventDescription TEXT NOT NULL,
    statusComment TEXT NOT NULL,
    FOREIGN KEY (project_id) REFERENCES Project(id) ON DELETE CASCADE
);

-- Tareas
CREATE TABLE Task (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    description TEXT,
    status TEXT NOT NULL CHECK(status IN ('UNRESOLVED', 'RESOLVED')),
    priority TEXT NOT NULL CHECK(priority IN ('LOW', 'MID', 'HIGH')),
    deadline TEXT -- puede ser NULL
);

-- Notas
CREATE TABLE Note (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    contentNote TEXT NOT NULL,
    noteDocumentPath TEXT NOT NULL,
    createdAt TEXT NOT NULL,
    updatedAt TEXT,
    project_id INTEGER, -- puede ser NULL
    FOREIGN KEY (project_id) REFERENCES Project(id) ON DELETE SET NULL
);

-- Configuraci칩n del Usuario (solo un registro)
CREATE TABLE UserConfig (
    theme TEXT NOT NULL,
    fontSize INTEGER NOT NULL,
    language TEXT NOT NULL,
    notifications INTEGER NOT NULL CHECK (notifications IN (0, 1)), -- booleano
    defaultStudyDuration INTEGER NOT NULL,
    defaultBreakDuration INTEGER NOT NULL,
    alertDaysInAdvance INTEGER NOT NULL
);
